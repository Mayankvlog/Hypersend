<?xml version="1.0" encoding="utf-8"?>
<testsuite errors="0" failures="1" name="mypy" skips="0" tests="1" time="0.841">
  <testcase classname="mypy" file="mypy" line="1" name="mypy-py3_11-win32" time="0.841">
    <failure message="mypy produced messages">backend\utils\email_service.py:17: error: Function is missing a return type annotation  [no-untyped-def]
backend\utils\email_service.py:17: note: Use "-&gt; None" if function does not return a value
backend\rate_limiter.py:76: error: Function is missing a return type annotation  [no-untyped-def]
backend\rate_limiter.py:76: note: Use "-&gt; None" if function does not return a value
backend\security.py:189: error: Incompatible default for argument "length" (default has type "None", argument has type "int")  [assignment]
backend\security.py:189: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\security.py:189: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\security.py:201: error: Incompatible default for argument "salt" (default has type "None", argument has type "str")  [assignment]
backend\security.py:201: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\security.py:201: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\security.py:446: error: Function is missing a return type annotation  [no-untyped-def]
backend\security.py:463: error: Function is missing a return type annotation  [no-untyped-def]
backend\security.py:472: error: Function is missing a return type annotation  [no-untyped-def]
backend\security.py:480: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:42: error: Unsupported class scoped import  [misc]
backend\config.py:49: error: Name "MONGODB_URI" already defined on line 46  [no-redef]
backend\config.py:57: error: Name "MONGODB_URI" already defined on line 46  [no-redef]
backend\config.py:169: error: Name "LARGE_FILE_THRESHOLD" already defined on line 103  [no-redef]
backend\config.py:195: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:195: note: Use "-&gt; None" if function does not return a value
backend\config.py:259: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:259: note: Use "-&gt; None" if function does not return a value
backend\config.py:288: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:288: note: Use "-&gt; None" if function does not return a value
backend\config.py:306: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:306: note: Use "-&gt; None" if function does not return a value
backend\config.py:336: error: Function is missing a return type annotation  [no-untyped-def]
backend\config.py:336: note: Use "-&gt; None" if function does not return a value
backend\redis_cache.py:13: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:40: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:40: note: Use "-&gt; None" if function does not return a value
backend\redis_cache.py:45: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:80: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:80: note: Use "-&gt; None" if function does not return a value
backend\redis_cache.py:99: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:113: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:129: error: Returning Any from function declared to return "bool"  [no-any-return]
backend\redis_cache.py:136: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:174: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:186: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:192: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:208: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:220: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:226: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:232: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:240: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:257: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:269: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:274: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:301: error: Function is missing a return type annotation  [no-untyped-def]
backend\redis_cache.py:301: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:14: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:14: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:17: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:17: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:23: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:33: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:39: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:52: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:58: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:65: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:67: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:72: error: Function is missing a type annotation  [no-untyped-def]
backend\mock_database.py:83: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:86: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:86: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:109: error: Incompatible default for argument "projection" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend\mock_database.py:109: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\mock_database.py:109: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\mock_database.py:109: error: Incompatible default for argument "sort" (default has type "None", argument has type "list[Any]")  [assignment]
backend\mock_database.py:137: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[Any, Any]], Any | None]"; expected "Callable[[dict[Any, Any]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend\mock_database.py:137: error: Incompatible return value type (got "Any | None", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend\mock_database.py:141: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\mock_database.py:151: error: Incompatible default for argument "query" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend\mock_database.py:151: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\mock_database.py:151: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\mock_database.py:151: error: Incompatible default for argument "sort" (default has type "None", argument has type "list[Any]")  [assignment]
backend\mock_database.py:165: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[Any, Any]], Any | None]"; expected "Callable[[dict[Any, Any]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend\mock_database.py:165: error: Incompatible return value type (got "Any | None", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend\mock_database.py:169: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[Any, Any]], Any | None]"; expected "Callable[[dict[Any, Any]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend\mock_database.py:169: error: Incompatible return value type (got "Any | None", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend\mock_database.py:325: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:331: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:337: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:343: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:349: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:355: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:361: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:367: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:367: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:371: error: Function is missing a return type annotation  [no-untyped-def]
backend\mock_database.py:371: note: Use "-&gt; None" if function does not return a value
backend\mock_database.py:375: error: Function is missing a return type annotation  [no-untyped-def]
backend\models.py:10: error: Function is missing a return type annotation  [no-untyped-def]
backend\models.py:14: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:20: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:48: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:60: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:79: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:98: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:109: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:184: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:203: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:218: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:229: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:245: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:261: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:281: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:291: error: Function is missing a return type annotation  [no-untyped-def]
backend\models.py:350: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:411: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:428: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:629: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:637: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:658: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:672: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:679: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:703: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:710: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:725: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:742: error: Function is missing a type annotation  [no-untyped-def]
backend\models.py:768: error: Function is missing a type annotation  [no-untyped-def]
backend\mongo_init.py:10: error: Function is missing a return type annotation  [no-untyped-def]
backend\mongo_init.py:10: note: Use "-&gt; None" if function does not return a value
backend\mongo_init.py:198: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:112: error: Function is missing a type annotation  [no-untyped-def]
backend\main.py:120: error: Function is missing a type annotation  [no-untyped-def]
backend\main.py:200: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:603: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:732: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:916: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:972: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1094: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1162: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1206: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1218: error: Function is missing a type annotation  [no-untyped-def]
backend\main.py:1239: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1248: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1289: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1302: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1308: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1324: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1356: error: Argument 1 to "match" has incompatible type "str | None"; expected "str | Pattern[str]"  [arg-type]
backend\main.py:1373: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1379: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1385: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1391: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1397: error: Function is missing a return type annotation  [no-untyped-def]
backend\main.py:1403: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:93: error: Incompatible default for argument "message" (default has type "None", argument has type "str")  [assignment]
backend\error_handlers.py:93: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\error_handlers.py:93: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\error_handlers.py:156: error: Incompatible return value type (got "Response", expected "JSONResponse")  [return-value]
backend\error_handlers.py:171: error: Incompatible default for argument "message" (default has type "None", argument has type "str")  [assignment]
backend\error_handlers.py:171: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\error_handlers.py:171: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\error_handlers.py:239: error: Incompatible return value type (got "Response", expected "JSONResponse")  [return-value]
backend\error_handlers.py:378: error: Incompatible default for argument "detail" (default has type "None", argument has type "str")  [assignment]
backend\error_handlers.py:378: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\error_handlers.py:378: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\error_handlers.py:564: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:592: error: Argument 4 to "log_validation_error" has incompatible type "list[ErrorDetails]"; expected "list[dict[Any, Any]]"  [arg-type]
backend\error_handlers.py:595: error: Argument 1 to "extract_error_details" of "ValidationErrorDetail" has incompatible type "list[ErrorDetails]"; expected "list[dict[str, Any]]"  [arg-type]
backend\error_handlers.py:697: error: Argument 2 to "add_exception_handler" of "Starlette" has incompatible type "Callable[[Request, ValidationError], Coroutine[Any, Any, Any]]"; expected "Callable[[Request, Exception], Response | Awaitable[Response]] | Callable[[WebSocket, Exception], Awaitable[None]]"  [arg-type]
backend\error_handlers.py:701: error: Argument 2 to "add_exception_handler" of "Starlette" has incompatible type "Callable[[Request, HTTPException], Coroutine[Any, Any, JSONResponse]]"; expected "Callable[[Request, Exception], Response | Awaitable[Response]] | Callable[[WebSocket, Exception], Awaitable[None]]"  [arg-type]
backend\error_handlers.py:705: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:745: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:793: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:829: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:861: error: Function is missing a return type annotation  [no-untyped-def]
backend\error_handlers.py:1236: error: Item "None" of "Mapping[str, str] | None" has no attribute "get"  [union-attr]
backend\database.py:14: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\database.py:25: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:25: note: Use "-&gt; None" if function does not return a value
backend\database.py:190: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:190: note: Use "-&gt; None" if function does not return a value
backend\database.py:213: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:312: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:312: note: Use "-&gt; None" if function does not return a value
backend\database.py:315: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:320: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:324: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:327: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:330: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:333: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:336: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:339: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:342: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:345: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:348: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:351: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:378: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:378: note: Use "-&gt; None" if function does not return a value
backend\database.py:384: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:387: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:390: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:393: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:400: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:404: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:407: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:410: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:423: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:428: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:431: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:431: note: Use "-&gt; None" if function does not return a value
backend\database.py:437: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:440: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:440: note: Use "-&gt; None" if function does not return a value
backend\database.py:460: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:485: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:489: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:492: error: Function is missing a type annotation  [no-untyped-def]
backend\database.py:503: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:530: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:557: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:584: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:611: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:620: error: Function is missing a return type annotation  [no-untyped-def]
backend\database.py:630: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "users_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "messages_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "files_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "uploads_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "refresh_tokens_collection"  [attr-defined]
backend\routes\users.py:10: error: Module "backend.db_proxy" has no attribute "get_db"  [attr-defined]
backend\routes\users.py:13: error: Name "UserResponse" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "UserInDB" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "PasswordChangeRequest" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "ProfileUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "UserSearchResponse" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "GroupCreate" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "GroupUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "GroupMembersUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "GroupMemberRoleUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "ChatPermissions" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "ContactAddRequest" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:13: error: Name "ContactResponse" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:19: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\routes\users.py:60: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:91: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:91: error: Incompatible default for argument "user_data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend\routes\users.py:91: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\users.py:91: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\users.py:126: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:145: error: Unexpected keyword argument "permissions" for "UserResponse"  [call-arg]
backend\routes\users.py:190: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:335: error: Incompatible types in assignment (expression has type "None", target has type "str")  [assignment]
backend\routes\users.py:359: error: Incompatible types in assignment (expression has type "None", target has type "str")  [assignment]
backend\routes\users.py:368: error: Incompatible types in assignment (expression has type "None", target has type "str")  [assignment]
backend\routes\users.py:371: error: Incompatible types in assignment (expression has type "datetime", target has type "str")  [assignment]
backend\routes\users.py:468: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:530: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:530: error: Incompatible default for argument "search_type" (default has type "None", argument has type "str")  [assignment]
backend\routes\users.py:530: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\users.py:530: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\users.py:594: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:684: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:806: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:851: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:904: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:943: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1048: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1057: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1058: error: Incompatible default for argument "q" (default has type "None", argument has type "str")  [assignment]
backend\routes\users.py:1058: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\users.py:1058: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\users.py:1110: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1157: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1159: error: Incompatible default for argument "request" (default has type "None", argument has type "Request")  [assignment]
backend\routes\users.py:1159: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\users.py:1159: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\users.py:1164: error: Library stubs not installed for "aiofiles"  [import-untyped]
backend\routes\users.py:1211: error: Value of type variable "AnyOrLiteralStr" of "splitext" cannot be "str | None"  [type-var]
backend\routes\users.py:1211: error: Item "None" of "str | None" has no attribute "lower"  [union-attr]
backend\routes\users.py:1365: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1391: error: Value of type variable "AnyOrLiteralStr" of "splitext" cannot be "str | None"  [type-var]
backend\routes\users.py:1391: error: Item "None" of "str | None" has no attribute "lower"  [union-attr]
backend\routes\users.py:1469: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1474: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1484: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1486: error: Incompatible default for argument "request" (default has type "None", argument has type "Request")  [assignment]
backend\routes\users.py:1486: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\users.py:1486: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\users.py:1498: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1516: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1612: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1689: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1734: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:1826: error: Name "users" already defined on line 1774  [no-redef]
backend\routes\users.py:1865: error: Name "users" already defined on line 1774  [no-redef]
backend\routes\users.py:1903: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:2044: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:2083: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\users.py:2090: error: "ContactAddRequest" has no attribute "email"  [attr-defined]
backend\routes\users.py:2187: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:17: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:92: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:97: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:105: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:130: error: Need type annotation for "USER_TYPING_STATUS" (hint: "USER_TYPING_STATUS: dict[&lt;type&gt;, &lt;type&gt;] = ...")  [var-annotated]
backend\routes\updates.py:139: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:162: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:176: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:189: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\updates.py:201: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:17: error: Module "backend.db_proxy" has no attribute "files_collection"  [attr-defined]
backend\routes\p2p_transfer.py:17: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\p2p_transfer.py:54: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:78: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:88: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:94: error: "dict[Any, Any]" has no attribute "expires_at"  [attr-defined]
backend\routes\p2p_transfer.py:100: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\routes\p2p_transfer.py:107: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:113: error: "dict[Any, Any]" has no attribute "cleanup_scheduled"  [attr-defined]
backend\routes\p2p_transfer.py:123: error: "dict[Any, Any]" has no attribute "expires_at"  [attr-defined]
backend\routes\p2p_transfer.py:152: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:157: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:164: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:171: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:176: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:188: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:251: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:251: error: Incompatible default for argument "token" (default has type "None", argument has type "str")  [assignment]
backend\routes\p2p_transfer.py:251: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\p2p_transfer.py:251: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\p2p_transfer.py:377: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:377: error: Incompatible default for argument "token" (default has type "None", argument has type "str")  [assignment]
backend\routes\p2p_transfer.py:377: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\p2p_transfer.py:377: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\p2p_transfer.py:476: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\p2p_transfer.py:510: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:11: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\messages.py:11: error: Module "backend.db_proxy" has no attribute "messages_collection"  [attr-defined]
backend\routes\messages.py:15: error: Name "MessageEditRequest" already defined (possibly by an import)  [no-redef]
backend\routes\messages.py:15: error: Name "MessageReactionRequest" already defined (possibly by an import)  [no-redef]
backend\routes\messages.py:41: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:56: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:107: error: "object" has no attribute "isoformat"  [attr-defined]
backend\routes\messages.py:119: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
backend\routes\messages.py:127: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
backend\routes\messages.py:135: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:179: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:212: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:219: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:269: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:276: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:292: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:307: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:334: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\messages.py:379: error: Dict entry 0 has incompatible type "str": "str"; expected "str": "bool"  [dict-item]
backend\routes\messages.py:379: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "bool"  [dict-item]
backend\routes\messages.py:383: error: Dict entry 0 has incompatible type "str": "None"; expected "str": "bool"  [dict-item]
backend\routes\messages.py:392: error: Dict entry 0 has incompatible type "str": "str"; expected "str": "bool"  [dict-item]
backend\routes\messages.py:392: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "bool"  [dict-item]
backend\routes\messages.py:400: error: Incompatible types in assignment (expression has type "str", target has type "dict[str, bool]")  [assignment]
backend\routes\messages.py:405: error: Dict entry 0 has incompatible type "str": "list[Any]"; expected "str": "bool"  [dict-item]
backend\routes\groups.py:16: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\groups.py:16: error: Module "backend.db_proxy" has no attribute "users_collection"  [attr-defined]
backend\routes\groups.py:16: error: Module "backend.db_proxy" has no attribute "messages_collection"  [attr-defined]
backend\routes\groups.py:16: error: Module "backend.db_proxy" has no attribute "get_db"  [attr-defined]
backend\routes\groups.py:22: error: Name "GroupCreate" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:22: error: Name "GroupUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:22: error: Name "GroupMembersUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:22: error: Name "GroupMemberRoleUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:22: error: Name "ChatPermissions" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:22: error: Name "UserPublic" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:23: error: Name "GroupCacheService" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:23: error: Name "UserCacheService" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:23: error: Name "SearchCacheService" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:24: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\routes\groups.py:69: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\groups.py:92: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\routes\groups.py:121: error: Cannot assign to a type  [misc]
backend\routes\groups.py:121: error: Incompatible types in assignment (expression has type "None", variable has type "type[Mock]")  [assignment]
backend\routes\groups.py:184: error: Returning Any from function declared to return "list[dict[Any, Any]]"  [no-any-return]
backend\routes\groups.py:186: error: Returning Any from function declared to return "list[dict[Any, Any]]"  [no-any-return]
backend\routes\groups.py:188: error: Name "items" already defined on line 115  [no-redef]
backend\routes\groups.py:237: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:271: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:310: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
backend\routes\groups.py:333: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:382: error: Returning Any from function declared to return "dict[Any, Any] | None"  [no-any-return]
backend\routes\groups.py:388: error: Unsupported right operand type for in ("dict[str, bool] | datetime | list[str] | str | None")  [operator]
backend\routes\groups.py:392: error: Dict entry 1 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
backend\routes\groups.py:392: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:393: error: Dict entry 2 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
backend\routes\groups.py:393: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:394: error: Dict entry 3 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
backend\routes\groups.py:394: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:395: error: Unsupported right operand type for in ("dict[str, bool] | datetime | list[str] | str | None")  [operator]
backend\routes\groups.py:399: error: Incompatible types in assignment (expression has type "int", target has type "dict[str, bool] | datetime | list[str] | str | None")  [assignment]
backend\routes\groups.py:401: error: Incompatible types in assignment (expression has type "list[dict[str, str]]", target has type "dict[str, bool] | datetime | list[str] | str | None")  [assignment]
backend\routes\groups.py:402: error: Incompatible types in assignment (expression has type "bool", target has type "dict[str, bool] | datetime | list[str] | str | None")  [assignment]
backend\routes\groups.py:410: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:439: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:457: error: Incompatible types in assignment (expression has type "list[Any] | None", variable has type "Coroutine[Any, Any, list[Any] | None]")  [assignment]
backend\routes\groups.py:587: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:609: error: Returning Any from function declared to return "dict[Any, Any] | None"  [no-any-return]
backend\routes\groups.py:620: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:621: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:622: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:643: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:669: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:718: error: Incompatible types in assignment (expression has type "list[Any] | None", variable has type "Coroutine[Any, Any, list[Any] | None]")  [assignment]
backend\routes\groups.py:721: error: No overload variant of "list" matches argument type "Coroutine[Any, Any, list[Any] | None]"  [call-overload]
backend\routes\groups.py:721: note: Possible overload variants:
backend\routes\groups.py:721: note:     def [_T] __init__(self) -&gt; list[_T]
backend\routes\groups.py:721: note:     def [_T] __init__(self, Iterable[_T], /) -&gt; list[_T]
backend\routes\groups.py:723: error: Name "current_members" already defined on line 721  [no-redef]
backend\routes\groups.py:780: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:883: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:930: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:981: error: Incompatible types in assignment (expression has type "Any | None", variable has type "str")  [assignment]
backend\routes\groups.py:1080: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1152: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1172: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1202: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1218: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1230: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1243: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1252: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1262: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1287: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1326: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1357: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1368: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1387: error: Returning Any from function declared to return "dict[Any, Any] | None"  [no-any-return]
backend\routes\groups.py:1408: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1409: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1410: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1411: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1414: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1415: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1416: error: Item "BaseException" of "dict[Any, Any] | BaseException" has no attribute "get"  [union-attr]
backend\routes\groups.py:1439: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1491: error: Unexpected keyword argument "email" for "UserPublic"  [call-arg]
backend\routes\groups.py:1492: error: Argument "id" to "UserPublic" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\groups.py:1493: error: Argument "name" to "UserPublic" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\groups.py:1495: error: Argument "username" to "UserPublic" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\groups.py:1598: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1722: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\groups.py:1727: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:8: error: Library stubs not installed for "aiofiles"  [import-untyped]
backend\routes\files.py:8: note: Hint: "python3 -m pip install types-aiofiles"
backend\routes\files.py:8: note: (or run "mypy --install-types" to install all missing stub packages)
backend\routes\files.py:8: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
backend\routes\files.py:21: error: Module "backend.db_proxy" has no attribute "files_collection"  [attr-defined]
backend\routes\files.py:21: error: Module "backend.db_proxy" has no attribute "uploads_collection"  [attr-defined]
backend\routes\files.py:21: error: Module "backend.db_proxy" has no attribute "users_collection"  [attr-defined]
backend\routes\files.py:21: error: Module "backend.db_proxy" has no attribute "get_db"  [attr-defined]
backend\routes\files.py:21: error: Module "backend.db_proxy" has no attribute "connect_db"  [attr-defined]
backend\routes\files.py:26: error: Name "FileInitRequest" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:26: error: Name "FileInitResponse" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:26: error: Name "ChunkUploadResponse" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:26: error: Name "FileCompleteResponse" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:30: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:31: error: Name "validate_user_id" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:31: error: Name "safe_object_id_conversion" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:31: error: Name "validate_command_injection" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:31: error: Name "validate_path_injection" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:31: error: Name "sanitize_input" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:32: error: Name "RateLimiter" already defined (possibly by an import)  [no-redef]
backend\routes\files.py:87: error: Returning Any from function declared to return "str"  [no-any-return]
backend\routes\files.py:98: error: Returning Any from function declared to return "str"  [no-any-return]
backend\routes\files.py:114: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:117: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:121: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:124: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:127: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:130: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:133: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:145: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\files.py:167: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:167: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\routes\files.py:173: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:323: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:323: error: Incompatible default for argument "user_data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend\routes\files.py:323: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\files.py:323: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\files.py:451: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:474: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:515: error: Argument 1 to "is_allowed" of "RateLimiter" has incompatible type "str | None"; expected "str"  [arg-type]
backend\routes\files.py:1148: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:1235: error: Argument 1 to "is_allowed" of "RateLimiter" has incompatible type "str | None"; expected "str"  [arg-type]
backend\routes\files.py:1392: error: Unexpected keyword argument "total_chunks" for "ChunkUploadResponse"  [call-arg]
backend\routes\files.py:1392: error: Unexpected keyword argument "uploaded_chunks" for "ChunkUploadResponse"  [call-arg]
backend\routes\files.py:1402: error: Argument 4 to "_save_chunk_to_disk" has incompatible type "str | None"; expected "str"  [arg-type]
backend\routes\files.py:1474: error: Unexpected keyword argument "total_chunks" for "ChunkUploadResponse"  [call-arg]
backend\routes\files.py:1474: error: Unexpected keyword argument "uploaded_chunks" for "ChunkUploadResponse"  [call-arg]
backend\routes\files.py:1498: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:1529: error: Argument 1 to "is_allowed" of "RateLimiter" has incompatible type "str | None"; expected "str"  [arg-type]
backend\routes\files.py:2083: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2340: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2553: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2603: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2733: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2796: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2836: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2899: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:2962: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3130: error: Incompatible default for argument "path" (default has type "None", argument has type "str")  [assignment]
backend\routes\files.py:3130: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\files.py:3130: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\files.py:3130: error: Incompatible default for argument "method" (default has type "None", argument has type "str")  [assignment]
backend\routes\files.py:3130: error: Incompatible default for argument "hints" (default has type "None", argument has type "list[Any]")  [assignment]
backend\routes\files.py:3165: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\routes\files.py:3206: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3207: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3215: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3216: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3224: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3225: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3233: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3234: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3244: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3245: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3253: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3254: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3262: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3263: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3271: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3272: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3282: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3283: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3291: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3292: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3303: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3304: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3312: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3313: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3321: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3322: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3332: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3333: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3341: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3342: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3352: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3353: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3361: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3362: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3372: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3373: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3381: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3382: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3392: error: Argument "path" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3393: error: Argument "method" to "_create_standard_error_response" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\routes\files.py:3518: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3525: error: Module "backend.db_proxy" has no attribute "files_collection"  [attr-defined]
backend\routes\files.py:3574: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3614: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3661: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3714: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3772: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3850: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:3917: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:4001: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:4153: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:4266: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:4411: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\files.py:4510: error: Argument 1 to "exists" has incompatible type "object"; expected "int | str | bytes | PathLike[str] | PathLike[bytes]"  [arg-type]
backend\routes\files.py:4512: error: Argument 1 to "makedirs" has incompatible type "object"; expected "str | bytes | PathLike[str] | PathLike[bytes]"  [arg-type]
backend\routes\files.py:4514: error: Argument 1 to "exists" has incompatible type "object"; expected "int | str | bytes | PathLike[str] | PathLike[bytes]"  [arg-type]
backend\routes\files.py:4514: error: Argument 1 to "isdir" has incompatible type "object"; expected "int | str | bytes | PathLike[str] | PathLike[bytes]"  [arg-type]
backend\routes\debug.py:12: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\routes\debug.py:13: error: Name "ProfileUpdate" already defined (possibly by an import)  [no-redef]
backend\routes\debug.py:13: error: Name "PasswordChangeRequest" already defined (possibly by an import)  [no-redef]
backend\routes\debug.py:23: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:23: note: Use "-&gt; None" if function does not return a value
backend\routes\debug.py:33: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:70: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:98: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:119: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:184: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:186: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend\routes\debug.py:186: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\routes\debug.py:186: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\routes\debug.py:221: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\debug.py:282: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:8: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\chats.py:8: error: Module "backend.db_proxy" has no attribute "messages_collection"  [attr-defined]
backend\routes\chats.py:8: error: Module "backend.db_proxy" has no attribute "users_collection"  [attr-defined]
backend\routes\chats.py:10: error: Name "ChatCreate" already defined (possibly by an import)  [no-redef]
backend\routes\chats.py:10: error: Name "MessageCreate" already defined (possibly by an import)  [no-redef]
backend\routes\chats.py:10: error: Name "ChatType" already defined (possibly by an import)  [no-redef]
backend\routes\chats.py:39: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:54: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:86: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:106: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:117: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:216: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:283: error: Function is missing a type annotation  [no-untyped-def]
backend\routes\chats.py:308: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:323: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:333: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:347: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:370: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
backend\routes\chats.py:389: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:414: error: Need type annotation for "msg_doc"  [var-annotated]
backend\routes\chats.py:438: error: List item 0 has incompatible type "str"; expected "dict[str, object]"  [list-item]
backend\routes\chats.py:448: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:482: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:518: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:549: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:580: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:603: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:622: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:690: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\chats.py:739: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:10: error: Module "backend.db_proxy" has no attribute "chats_collection"  [attr-defined]
backend\routes\channels.py:10: error: Module "backend.db_proxy" has no attribute "messages_collection"  [attr-defined]
backend\routes\channels.py:15: error: Name "ChatCreate" already defined (possibly by an import)  [no-redef]
backend\routes\channels.py:15: error: Name "MessageCreate" already defined (possibly by an import)  [no-redef]
backend\routes\channels.py:15: error: Name "ChatType" already defined (possibly by an import)  [no-redef]
backend\routes\channels.py:15: error: Name "ChatPermissions" already defined (possibly by an import)  [no-redef]
backend\routes\channels.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:47: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
backend\routes\channels.py:53: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:87: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:105: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:138: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:164: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:202: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\channels.py:219: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:12: error: Module "backend.db_proxy" has no attribute "users_collection"  [attr-defined]
backend\routes\auth.py:12: error: Module "backend.db_proxy" has no attribute "refresh_tokens_collection"  [attr-defined]
backend\routes\auth.py:12: error: Module "backend.db_proxy" has no attribute "reset_tokens_collection"  [attr-defined]
backend\routes\auth.py:15: error: Name "UserCreate" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "UserLogin" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "Token" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "RefreshTokenRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "UserResponse" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "PasswordResetRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "PasswordResetResponse" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "EmailChangeRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "EmailVerificationRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "QRCodeRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "QRCodeResponse" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "VerifyQRCodeRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "VerifyQRCodeResponse" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "QRCodeSession" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "TokenData" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:15: error: Name "ChangePasswordRequest" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:23: error: Name "settings" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:35: error: Name "validate_user_id" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:36: error: Name "password_reset_limiter" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:37: error: Name "email_service" already defined (possibly by an import)  [no-redef]
backend\routes\auth.py:54: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:54: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend\routes\auth.py:63: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:78: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:78: note: Use "-&gt; None" if function does not return a value
backend\routes\auth.py:88: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:88: note: Use "-&gt; None" if function does not return a value
backend\routes\auth.py:190: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:1126: error: Function is missing a return type annotation  [no-untyped-def]
backend\routes\auth.py:1141: error: Incompatible types in assignment (expression has type "ObjectId", variable has type "str")  [assignment]
backend\routes\auth.py:1793: error: Argument 1 to "append" of "list" has incompatible type "ObjectId"; expected "str"  [arg-type]
backend\auth\utils.py:56: error: Function is missing a return type annotation  [no-untyped-def]
backend\auth\utils.py:56: error: Incompatible default for argument "extra_data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend\auth\utils.py:56: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\auth\utils.py:56: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\auth\utils.py:150: error: Incompatible default for argument "salt" (default has type "None", argument has type "str")  [assignment]
backend\auth\utils.py:150: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\auth\utils.py:150: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\auth\utils.py:150: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend\auth\utils.py:258: error: Incompatible default for argument "salt" (default has type "None", argument has type "str")  [assignment]
backend\auth\utils.py:258: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\auth\utils.py:258: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\auth\utils.py:258: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend\auth\utils.py:344: error: Incompatible default for argument "salt" (default has type "None", argument has type "str")  [assignment]
backend\auth\utils.py:344: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend\auth\utils.py:344: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend\auth\utils.py:367: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:372: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:375: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:377: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:379: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:381: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:385: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:387: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:389: error: Unsupported target for indexed assignment ("object")  [index]
backend\auth\utils.py:539: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
backend\auth\utils.py:579: error: Returning Any from function declared to return "str"  [no-any-return]
backend\auth\utils.py:608: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend\auth\utils.py:684: error: Returning Any from function declared to return "str"  [no-any-return]
backend\auth\utils.py:719: error: Returning Any from function declared to return "str"  [no-any-return]
backend\auth\utils.py:819: error: Returning Any from function declared to return "str"  [no-any-return]
backend\auth\utils.py:890: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend\auth\utils.py:921: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend\auth\__init__.py:14: error: Name "hash_password" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "verify_password" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "create_access_token" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "create_refresh_token" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "decode_token" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "get_current_user" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "get_current_user_for_upload" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "get_current_user_optional" already defined (possibly by an import)  [no-redef]
backend\auth\__init__.py:14: error: Name "get_current_user_or_query" already defined (possibly by an import)  [no-redef]</failure>
  </testcase>
</testsuite>
