# ============================================================
# HYPERSEND VPS DEPLOYMENT CONFIGURATION
# ============================================================
# This file contains all environment variables needed for
# the unified docker-compose.yml deployment
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Update values below with your VPS settings
# 3. Deploy: docker-compose up -d
#
# ============================================================
# VPS CONFIGURATION (CRITICAL)
# ============================================================
# Your VPS public IP address (139.59.82.105 in your case)
VPS_IP=139.59.82.105

# ============================================================
# MONGODB DATABASE CONFIGURATION
# ============================================================
# MongoDB root user credentials
MONGO_USER=admin
MONGO_PASSWORD=your-secure-mongodb-password-here-change-this

# MongoDB connection string (internal Docker network)
# Format: mongodb://username:password@hostname:port/database?authSource=admin
MONGODB_URI=mongodb://admin:your-secure-mongodb-password-here-change-this@mongodb:27017/hypersend?authSource=admin&replicaSet=rs0

# ============================================================
# BACKEND API CONFIGURATION
# ============================================================
# JWT Secret Key for token signing
# CRITICAL: Generate a unique secure key for production
# Command: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-minimum-32-characters-change-in-production

# API Base URL (internal for Docker)
API_BASE_URL=http://backend:8000

# Production API URL (external for VPS access)
PRODUCTION_API_URL=http://139.59.82.105:8000

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============================================================
# FILE TRANSFER CONFIGURATION
# ============================================================
# Maximum file size: 40 GB (don't change unless necessary)
MAX_FILE_SIZE_BYTES=42949672960

# Chunk size for uploads: 4 MB
CHUNK_SIZE=4194304

# Number of parallel chunks allowed
MAX_PARALLEL_CHUNKS=4

# Upload session expiry: 24 hours
UPLOAD_EXPIRE_HOURS=24

# Server-side file retention: 0 = P2P only (no server storage)
FILE_RETENTION_HOURS=0

# ============================================================
# RATE LIMITING CONFIGURATION
# ============================================================
# Requests per user per window
RATE_LIMIT_PER_USER=100

# Time window in seconds
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================================
# DEBUG MODE
# ============================================================
# Set to False for production (CRITICAL)
# True only for local development
DEBUG=False

# ============================================================
# SMTP EMAIL CONFIGURATION (OPTIONAL)
# ============================================================
# Leave empty to disable email functionality
# Needed for password reset emails

# SMTP Server
SMTP_HOST=smtp.gmail.com

# SMTP Port (587 for TLS, 465 for SSL)
SMTP_PORT=587

# Email account username
SMTP_USERNAME=your-email@gmail.com

# Email account password or app-specific password
SMTP_PASSWORD=your-app-specific-password

# Use TLS encryption
SMTP_USE_TLS=True

# Email sender address
EMAIL_FROM=noreply@hypersend.com

# ============================================================
# DOCKER CONFIGURATION
# ============================================================
# Data directory for file storage
DATA_ROOT=/data

# Uploads path in container
UPLOADS_PATH=/app/uploads

# ============================================================
# DEPLOYMENT INSTRUCTIONS
# ============================================================
#
# 1. LOCAL DEVELOPMENT:
#    VPS_IP=localhost
#    DEBUG=True
#    docker-compose up
#
# 2. VPS PRODUCTION DEPLOYMENT:
#    VPS_IP=139.59.82.105
#    DEBUG=False
#    SECRET_KEY=<generated-secure-key>
#    MONGO_PASSWORD=<secure-password>
#    docker-compose up -d
#
# 3. VERIFY DEPLOYMENT:
#    curl http://139.59.82.105:8000/health
#    curl http://139.59.82.105:8550
#
# ============================================================
