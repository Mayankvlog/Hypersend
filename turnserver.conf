# =============================================================================
# Coturn TURN Server Configuration for Hypersend
# =============================================================================

# Network settings
listening-port=3478
tls-listening-port=5349
listening-ip=0.0.0.0

# Authentication
use-auth-secret
static-auth-secret=${TURN_SECRET:-hypersend_turn_secret_change_me}
realm=${DOMAIN_NAME:-zaply.in.net}

# STUN/TURN configuration
stun-only=false
no-stun=false
no-loopback-peers=false
no-multicast-peers=false

# TLS certificates (replace with your actual certificates)
cert=/etc/ssl/certs/cert.pem
pkey=/etc/ssl/private/key.pem

# Limits and quotas
total-quota=100
user-quota=12
max-bps=64000

# Logging
log-file=/var/log/turnserver.log
verbose

# Mobility
mobility

# Redis integration (optional, for distributed TURN servers)
# redis-statsdb="redis_host=redis redis_db=1"

# CLI authentication
cli-password=${TURN_CLI_PASSWORD:-hypersend_cli_password_change_me}

# WebRTC support
web-port=80
# web-ip=YOUR_PUBLIC_IP

# Security
no-tlsv1
no-tlsv1_1
cipher-list="ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384"

# Performance
max-allocate-lifetime=3600
channel-lifetime=600
permission-lifetime=300
