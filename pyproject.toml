[project]
name = "hypersend"
version = "1.0.0"
description = "HyperSend - self-hosted chat + large file transfer app (FastAPI backend + Flet frontend)"
readme = "README.md"
requires-python = ">=3.11"
authors = [
  { name = "Mayank", email = "" }
]
license = { text = "Apache-2.0" }

# Core dependencies used by the full project (backend + frontend)
[project.dependencies]
fastapi = "==0.104.1"
uvicorn = "==0.24.0"
motor = "==3.6.0"
# Use main pydantic version for shared use; backend also pins email extra in optional deps
pydantic = "==2.11.5"
python-jose = { version = "==3.3.0", extras = ["cryptography"] }
passlib = { version = "==1.7.4", extras = ["bcrypt"] }
bcrypt = "==4.1.2"
python-multipart = "==0.0.6"
aiofiles = "==23.2.1"
httpx = "==0.25.1"
python-dotenv = "==1.0.0"
PyJWT = "==2.10.1"
# Frontend deps
flet = ">=0.28.3"
asyncio = "==3.4.3"

[project.optional-dependencies]
# Pure backend environment (matches backend/requirements.txt as close as possible)
backend = [
  "fastapi==0.104.1",
  "uvicorn[standard]==0.24.0",
  "motor==3.6.0",
  "pydantic[email]==2.5.0",
  "python-jose[cryptography]==3.3.0",
  "passlib[bcrypt]==1.7.4",
  "bcrypt==4.1.2",
  "python-multipart==0.0.6",
  "aiofiles==23.2.1",
  "httpx==0.25.1",
  "python-dotenv==1.0.0",
  "PyJWT==2.10.1",
]

# Pure frontend environment (matches frontend/requirements.txt)
frontend = [
  "httpx==0.25.1",
  "flet>=0.28.3",
  "asyncio==3.4.3",
  "python-multipart==0.0.6",
  "pydantic==2.11.5",
]

[tool.hypersend]
app_name = "HyperSend"
backend_url = "http://139.59.82.105:8000"
frontend_dir = "frontend"
backend_dir = "backend"

[tool.update_manager]
# Keep this in sync with UpdateManager.current_version in frontend/update_manager.py
current_version = "1.0.0"

[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"
